<html>
<head>
	<title>Senior Project Web App</title>
	<script type src="https://raw.githubusercontent.com/mbostock/d3/master/d3.js"></script>
	<style>
	#div1 {margin:10px;font-size:1.25em;}
	table {border-collapse:collapse;border:1px solid #7f7f7f;}
	td {border:1px solid #7f7f7f;width:50px;height:50px;text-align:center;}
	</style>
</head>
<body>
	<div id="viz"></div>
	<div id="div1"></div>
	<div id="div2"></div>
	<div id="div3"></div>
	<script>
	
	d3.text("2weekdata.csv", function(datasetText) {
		var parsedCSV = d3.csv.parseRows(datasetText);
		
		var sampleHTML = d3.select("#viz")
			.append("table")
			.style("border-collapse", "collapse")
			.style("border", "2px black solid")
			
			.selectAll("tr")
			.data(parsedCSV)
			.enter().append("tr")
			
			.selectAll("td")
			.data(function(d) {return d;})
			.enter().append("td")
			.style("border", "1px black solid")
			.style("padding", "5px")
			.on("mouseover", function(){d3.select(this).style("background-color", "aliceblue")})
			.on("mouseover", function(){d3.select(this).style("background-color", "white")})
			.text(function(d){return d;})
			.style("font-size", "12px");
	});
	
	var totalRows = 5;
	var cellsInRow = 5;
	var min = 1;
	var max = 10;
	var avgs = [0, 0, 0, 0, 0];
	var tableRows = 0;



	    function drawTable() {
 	        // get the reference for the body
    	    var div1 = document.getElementById('div1');
 
    	    // creates a <table> element
    	    var tbl = document.createElement("table");
 
    	    // creating rows
    	    for (var r = 0; r < totalRows; r++) {
    	        var row = document.createElement("tr");
	     
	    // create cells in row
    	    for (var c = 0; c < cellsInRow; c++) {
    	        var cell = document.createElement("td");
		var getRandom = Math.floor(Math.random() * (max - min + 1)) + 	min;
		avgs[c] = avgs[c] + getRandom;
       	        var cellText = document.createTextNode(getRandom);
               	cell.appendChild(cellText);
               	row.appendChild(cell);
            }         
		tbl.appendChild(row); // add the row to the end of the table body
		tableRows++;
    	}
    
    
    
    div1.appendChild(tbl); // appends <table> into <div1>
}

function drawAverages(){
	var div2 = document.getElementById('div2');

	var tbl = document.createElement("table");

	var row = document.createElement("tr");

	for(var c = 0; c < cellsInRow; c++){
		var cell = document.createElement("td");
		var cellText = document.createTextNode(avgs[c]/tableRows);
		cell.appendChild(cellText);
		row.appendChild(cell);
	}

	tbl.appendChild(row);
	div2.appendChild(tbl);
}

		function drawChart(){
			var div3 = document.getElementById('div3');
		}
		function drawAll(){
			this.drawTable();
			this.drawAverages();
		}


window.onload=drawAll; 
</script>
</body>
</html>
